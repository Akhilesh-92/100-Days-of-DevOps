# Day 18: Configure LAMP Server (LAMP Stack)
xFusionCorp Industries is planning to host a WordPress website on their infra in Stratos Datacenter. They have already done infrastructure configurationâ€”for example, on the storage server they already have a shared directory `/vaw/www/html` that is mounted on each app host under `/var/www/html` directory. Please perform the following steps to accomplish the task:

* Install `httpd`,`php` and its dependencies on all app hosts.
* Apache should serve on port `3001` within the apps.
* Install/Configure `MariaDB` server on DB Server.
* Create a database named `myappdb` and create a database user named `myappuser` identified as password your-pass. Further make sure this newly created user is able to perform all operation on the database you created.
* Finally you should be able to access the website on LBR link, by clicking on the App button on the top bar. You should see a message like App is able to connect to the database using user kodekloud_cap

LAMP Stack
LAMP Stack is a group of open-source software that is typically installed together to enable a server to host dynamic web apps. Full form of LAMP:

* L: Linux Operating Systems
* A: Apache Web Server
* M: MySQL/MariaDB Database
* P: Php


## Solution
Install `httpd` and `PHP` on all App Servers and Execute the following commands on all app servers.
```sh
sudo yum install httpd -y
sudo systemctl start httpd
sudo systemctl enable httpd
sudo yum install php php-cli php-mysqlnd php-pdo php-gd php-mbstring php-xml php-json -y
sudo systemctl restart httpd
```

Update the port in httpd config file through `sudo vi /etc/httpd/conf/httpd.conf`. Modify `Listen 3001`.


Install `MariaDB`
```sh
sudo yum install mariadb-server mariadb -y
sudo systemctl start mariadb
sudo systemctl enable mariadb
```

Create database, user and grant all privileges using `mysql` interactive shell
```sh
sudo mysql
CREATE DATABASE myappdb;
CREATE USER 'myappuser' IDENTIFIED BY 'StrongPassword123';
GRANT ALL PRIVILEGES ON myappdb.* TO 'myappuser';
FLUSH PRIVILEGES;
EXIT;
```
