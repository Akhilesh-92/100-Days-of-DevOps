# Day 58: Deploy Grafana on Kubernetes Cluster

Deploy Grafana on Kubernetes Cluster
The Nautilus DevOps teams is planning to set up a Grafana tool to collect and analyze analytics from some applications. They are planning to deploy it on Kubernetes cluster. Below you can find more details.

* Create a deployment named `grafana-deployment-nautilus` using any grafana image for Grafana app. Set other parameters as per your choice.

* Create `NodePort` type service with nodePort `32000` to expose the app.

> You need not to make any configuration changes inside the Grafana app once deployed, just make sure you are able to access the Grafana login page.


## Solution
1. On jump host, create deployment resource
```sh
k create deployment grafana-deployment-nautilus --image grafana/grafana
```


2. Update grafana port in deployement
```sh
k edit deployment grafana-deployment-nautilus
```


3. Add container port in deployemnt like below
```sh 
ports:
- containerPort: 3000 (default for Grafana)
```


4. Create a NodePort service
```sh
k expose deployment grafana-deployment-nautilus --type NodePort --port 3000
```


5. Update NodePort in service
```sh
k edit svc grafana-deployment-nautilus
```
> Change nodePort to 32000.


6. Verify Grafana login page access
```sh
k exec pods/grafana-deployment-nautilus-65f5bd9464-tqz54 -- curl http://localhost:3000
```
