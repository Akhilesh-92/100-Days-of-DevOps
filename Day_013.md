# Day 13: IPtables Installation And Configuration
We have one of our websites up and running on our Nautilus infrastructure in Stratos DC. Our security team has raised a concern that right now Apacheâ€™s port i.e 3001 is open for all since there is no firewall installed on these hosts. So we have decided to add some security layer for these hosts and after discussions and recommendations we have come up with the following requirements:

1. Install iptables and all its dependencies on each app host.
2. Block incoming port 3001 on all apps for everyone except for LBR host.
3. Make sure the rules remain, even after system reboot.

## Solution
1. SSH to all app servers and run below commands
```sh
sudo yum install -y iptables-services
sudo systemctl enable iptables
sudo systemctl start iptables
```

2. Allow only trusted LBR host and drop all others
```sh
sudo iptables -A INPUT -p tcp -s 172.16.238.14 --dport 3001 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 3001 -j DROP
```

3. Save the rules
```sh
sudo service iptables save or sudo iptables-save > /etc/sysconfig/iptables
sudo iptables -L -n -v
```
